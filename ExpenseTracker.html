<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Expense Tracker</title>
</head>
<body style="margin: 0; font-family: 'DM Sans', sans-serif; background: radial-gradient(circle, rgba(108,125,90,1) 0%, rgba(185,194,177,1) 26%, rgba(255,255,255,1) 74%);">
  <div class="container1">
    <!-- NAVBAR SECTION -->
    <nav class="navbar navbar-expand-sm sticky-top navbar-dark" style="background-color:#6c7d5a; height:70px; font-family: 'Libre Baskerville', serif;">
      <div class="container-fluid">
        <a class="navbar-brand d-md-none" href="Home.html">
          <img src="Black_And_White_Aesthetic_Minimalist_Modern_Simple_Typography_Coconut_Cosmetics_Logo__1_-removebg-preview (1).png" alt="" style="width: 80px;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto" style="align-items: center;">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="Home.html" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">HOME</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="About.html" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">ABOUT</a>
            </li>
            <a class="navbar-brand d-none d-md-block" href="Home.html">
              <img src="Black_And_White_Aesthetic_Minimalist_Modern_Simple_Typography_Coconut_Cosmetics_Logo__1_-removebg-preview (1).png" alt="" style="width: 100px;">
            </a>
            <li class="nav-item">
              <a class="nav-link" href="portfolio.html" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">PORTFOLIO</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contact.html" style="color: #fff; font-size: 1.1em; padding: 0.5em 1em;">CONTACT</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main style="padding: 2rem;">
        <div class="container center" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
          
          <!-- Balance Header -->
          <div class="balanceHead" style="height: 6rem; width: 35rem; display: flex; align-items: center; justify-content: space-between; background-color: #6c7d5a; color: white; border-radius: 1rem; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            <div style="padding: 1rem;">
              <p style="font-size: 1.1rem; font-weight: 700; font-family: 'Libre Baskerville', serif;">My Balance</p>
              <h1 id="balanceVal" name="balanceVal">₹ 000</h1>
            </div>
            <img src="./logo.svg" alt="" style="padding: 1rem;">
          </div>
      
          <!-- Budget Form Container -->
          <div class="formContainer" style="height: 18rem; width: 35rem; display: flex; flex-direction: column; border-radius: 1rem; background-color: white; margin: 1rem 0; border: 1px solid #6c7d5a; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            
            <!-- Add Budget Section -->
            <h3 style="font-family: 'Libre Baskerville', serif; padding: 1rem;">ADD BUDGET</h3>
            <div class="budgetInput" style="width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 1rem;">
              <input type="number" placeholder="Enter Amount in Numbers, e.g.5000" id="budget" style="width: 75%; height: 2.8rem; border-radius: 0.5rem; font-size: 1rem; border: 1px solid #6c7d5a; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
              <button onclick="addBudget();" style="width: 23%; height: 2.8rem; color: white; background-color: #6c7d5a; border-color: #6c7d5a; border-radius: 0.5rem; font-size: 1rem; cursor: pointer; border: none; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">Add Budget</button>
            </div>
      
            <!-- Add Expense Section (Form Added Here) -->
            <h3 style="font-family: 'Libre Baskerville', serif; padding: 1rem;">ADD EXPENSE</h3>
            <form action="/expensetracker" method="POST" style="width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 1rem;">
              <select name="description" id="description" required style="width: 24%; height: 2.8rem; border-radius: 0.5rem; font-size: 1rem; border: 1px solid #6c7d5a; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                <option value="" selected hidden disabled>Description</option>
                <option value="Venue">Venue</option>
                <option value="Equipments">Equipments</option>
                <option value="Decor">Decor</option>
                <option value="Catering">Catering</option>
                <option value="Transportation">Transportation</option>
                <option value="Team and staff">Team and staff</option>
                <option value="Miscellaneous">Miscellaneous</option>
              </select>
              <input type="number" name="amount" placeholder="Enter Amount" id="amount" style="width: 24%; height: 2.8rem; border-radius: 0.5rem; font-size: 1rem; border: 1px solid #6c7d5a; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
              <input type="date" name="date" id="date" style="width: 24%; height: 2.8rem; border-radius: 0.5rem; font-size: 1rem; border: 1px solid #6c7d5a; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
              <button type="submit" style="width: 23%; height: 2.8rem; color: white; background-color: #6c7d5a; border-color: #6c7d5a; border-radius: 0.5rem; font-size: 1rem; cursor: pointer; border: none; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">Add Expense</button>
            </form>
          </div>
      
          <!-- Overview Section -->
          <div class="overview balanceHead" style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; width: 35rem; background-color: #6c7d5a; color: white; border-radius: 1rem; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            <div style="padding: 1rem;">
              <p>Total Budget</p>
              <h1 id="total" name="total">₹ 000</h1>
            </div>
            <div style="padding: 1rem;">
              <p>Expenses</p>
              <h1 id="expense" name="expense">₹ 000</h1>
            </div>
          </div>
      
          <!-- Expense List -->
          <div class="expenseList formContainer" style="width: 35rem; margin: 2rem 0; background-color: white; border-radius: 1rem; border: 1px solid #6c7d5a; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            <h2 style="font-family: 'Libre Baskerville', serif; padding: 1rem;">Expense List</h2>
            <table id="abc" style="width: 100%; font-size: 1.1rem; border-collapse: collapse; margin: 0 1rem;">
              <thead id="yz">
                <tr id="op">
                  <td id="lk" style="padding: 0.5rem; background-color: hsl(0, 0%, 97%); border-bottom: 0.1rem solid hsl(28, 10%, 53%);">Description</td>
                  <td id="lk" style="padding: 0.5rem; background-color: hsl(0, 0%, 97%); border-bottom: 0.1rem solid hsl(28, 10%, 53%);">Amount</td>
                  <td id="lk" style="padding: 0.5rem; background-color: hsl(0, 0%, 97%); border-bottom: 0.1rem solid hsl(28, 10%, 53%);">Date</td>
                  <td id="lk" style="padding: 0.5rem; background-color: hsl(0, 0%, 97%); border-bottom: 0.1rem solid hsl(28, 10%, 53%);"></td>
                </tr>
              </thead>
              <tbody id="expenseList">
              </tbody>
            </table>
          </div>
      
        </div>
      </main>
      
<!-- FOOTER SECTION -->
<!-- <div class="logo-container">
    <div class="line"></div>
    <div class="logo"><img src="Black_And_White_Aesthetic_Minimalist_Modern_Simple_Typography_Coconut_Cosmetics_Logo__1_-removebg-preview (1).png"></div>
    <div class="line"></div>
  </div>
  <footer>
  <table>
    <tr>
      <td id="one">
        <ul id="link">
          <li><a href="portfolio.html">PORTFOLIO</a></li>
          <li><a href="services.html">SERVICES</a></li>
          <li><a href="About.html">ABOUT</a></li>
          <li><a href="Expense Tracker.html">EXPENSE TRACKER</a></li>
          <li><a href="dashboard1.html">DASHBOARD</a></li>
        </ul>
      </td>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </td>
      <td id="two"><div class="next">
        <p>Destination weddings & events worldwide.</p>
        <h6>join us @cosmic_occasions</h6>
        <br><br><br>
        <h7>© 2019 Cosmic Occasions. All Rights Reserved.</h7>
      </div></td>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </td>
      <td id="three">
        <img src="COSMIC_OCCASSIONS-removebg-preview.png" id="lg"><br><br>
        <a href="contact.html" id="button">CONTACT</a>
      </td>
    </tr>
  </table>
  </footer> -->
</div>
<script>
    let budget = document.getElementById("budget");
let balance = document.getElementById("balanceVal");
let desc = document.getElementById("description");
let expense = document.getElementById("expense");
let date = document.getElementById("date");
let expenseVal = document.getElementById("expenseVal");
let total = document.getElementById("total");
let expenseList = document.getElementById("expenseList");

let amount;
let totalExpense = 0;
let budAmount;
let exp = [desc, expenseVal, date];

expenseList.addEventListener("click", removeExpense);

// Update Budget
let addBudget = () => {
    amount = Number(budget.value);
    if (isNaN(amount) || amount <= 0 || amount == '') {
        budget.classList.add("error");
    }
    else {
        total.innerText = "₹" + amount;
        balance.innerText = "₹" + amount;
        budget.classList.remove("error");
    }
};

// Add Expense in Table and Subtract Value from Balance
let addExpense = () => {
    if (isNaN(Number(expenseVal.value)) || Number(expenseVal.value) <= 0 || expenseVal.value == '' || date.value === '' || desc.value == "") {
        exp.forEach((e) => {
            e.classList.add("error");
        });
    }

    else {
        amount = Number(amount) - Number(expenseVal.value);
        totalExpense += Number(expenseVal.value);
        budAmount = totalExpense;
        expense.innerText = "₹" + String(totalExpense);
        balance.innerText = "₹" + String(amount);
        let tr = document.createElement("tr");
        tr.id = expenseVal.value;
        expenseList.appendChild(tr);
        exp.forEach((e) => {
            let td = document.createElement("td");
            td.innerText = e.value;
            tr.appendChild(td);
            if (exp.indexOf(e) == 2) {
                let td = document.createElement("td");
                tr.appendChild(td);
                var btn = document.createElement("div");
                btn.className = "removebtn";
                btn.innerText = "X";
                td.appendChild(btn);
            }
        });

        // Clearing & Adjusting Values.
        exp.forEach((e) => {
            e.classList.remove("error");
            e.value = "";
        });
    }
};

function removeExpense(event) {
    if (event.target.classList.contains("removebtn")) {
        // Remove Expense List
        let row = event.target.parentNode.parentNode;
        let expVal = Number(row.id);
        row.remove();

        // Update Remaining Balance
        amount += expVal;
        balance.innerText = "₹ " + String(amount);
        budAmount -= expVal;
        totalExpense -= expVal;
        expense.innerText = "₹ " + String(budAmount);
    }
}
</script>
</body>
</html>